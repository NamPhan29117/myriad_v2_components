"use strict";(self.webpackChunkmyriad_v2=self.webpackChunkmyriad_v2||[]).push([[794],{9388:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var i=a(3433),s=a(1413),l=a(9439),n=a(2791),d=a(2034),o=a.n(d),r=a(8559),c=a.n(r),u=a(2810),h=(a(2515),a(9498),a(3457)),m=a.n(h),x=a(8815),g=a(2506),v=a(4483),f=a(3174),p=a(4542),y=a(1694),w=a.n(y),j=a(184),N=[];function b(){var e={dataLayout:N},t=(0,n.useState)(!1),a=(0,l.Z)(t,2),d=a[0],r=a[1],h=(0,n.useState)(null),y=(0,l.Z)(h,2),b=y[0],Z=y[1],E=(0,n.useState)(void 0),_=(0,l.Z)(E,2),D=_[0],S=_[1],C=(0,n.useState)(null),L=(0,l.Z)(C,2),T=L[0],I=L[1],k=(0,n.useState)(void 0),W=(0,l.Z)(k,2),A=W[0],O=W[1],G=(0,n.useState)(10),z=(0,l.Z)(G,2),R=z[0],V=z[1],B=x.Z.Option,M=(0,p.cI)().handleSubmit;var q=(0,n.useReducer)((function(e,t){switch(t.type){case"ON_DELETE_WIDGET":var a=(0,i.Z)(e.dataLayout).filter((function(e){return e.i!==t.payload}));return(0,s.Z)((0,s.Z)({},e),{},{dataLayout:a});case"ON_SAVE_WIDGET_RESIZE":var l=(0,i.Z)(e.dataLayout).map((function(e){return e.i===t.payload.i&&(e=t.payload),e}));return(0,s.Z)((0,s.Z)({},e),{},{dataLayout:l});case"ON_ADD_WIDGET":var n=(0,i.Z)(e.dataLayout),d=[].concat((0,i.Z)(n),[t.payload]);return(0,s.Z)((0,s.Z)({},e),{},{dataLayout:d});default:throw new Error("Load data error")}}),e),H=(0,l.Z)(q,2),F=H[0],J=H[1],K=n.useMemo((function(){return[{id:"id-1",title:"Assigned to Me",img:"https://dev.azure.com/namphan0323/_static/Widgets/CatalogIcons/assignedToMe.png",description:"Allows team members to quickly view and manage work Allows team members to quickly view and manage work",i:(0,u.Z)(),x:2*F.dataLayout.length%12,y:0,w:2,h:2},{id:"id-2",title:"Build history",img:"https://dev.azure.com/namphan0323/_static/Widgets/CatalogIcons/buildChart.png",description:"Shows the build history of a selected build pipeline.",i:(0,u.Z)(),x:2*F.dataLayout.length%12,y:0,w:3,h:3}]}),[F.dataLayout.length]),P=function(e){var t=e.i;return(0,j.jsx)("div",{"data-grid":e,className:"widget-layout",style:{touchAction:"none"},children:(0,j.jsxs)("div",{className:"wrap-widget",children:[(0,j.jsxs)("div",{className:"widget-header",children:[(0,j.jsx)("div",{className:"left",children:e.title?e.title:"Test Widget"}),(0,j.jsxs)("div",{className:"right",children:[(0,j.jsx)("div",{onClick:function(){Z(e),setTimeout((function(){r(!0)}),0)},children:(0,j.jsx)(v.G,{icon:f.gr5,size:"1x",color:"#666666"})}),(0,j.jsx)("div",{onClick:function(){return t=e.i,void J({type:"ON_DELETE_WIDGET",payload:t});var t},children:(0,j.jsx)(v.G,{icon:f.EOp,size:"1x",color:"rgba(232,17,35,1)"})})]})]}),(0,j.jsx)("div",{className:"widget-body"})]})},t)};return(0,j.jsx)("div",{className:"v-scroll-auto flex flex-grow relative region-content","data-renderedregion":"content",role:"main",children:(0,j.jsx)("div",{className:"dashboard-view",children:(0,j.jsx)("div",{className:"absolute-fill bolt-page v-scroll-auto flex-column bolt-page-white",children:(0,j.jsxs)("div",{className:"dashboard-content flex-grow flex-row scroll-hidden",children:[(0,j.jsx)("div",{className:"primary-content flex-grow flex-column scroll-hidden",children:(0,j.jsx)("div",{className:"flex-grow flex-column scroll-hidden",children:(0,j.jsx)("div",{className:"scroll-auto flex-grow flex-column",children:(0,j.jsx)("div",{className:"devops-dashboard-grid flex-grow editable",style:{minWidth:"".concat(R,"px")},children:(0,j.jsx)(m(),{className:"layout",layout:F.dataLayout,cols:12,compactType:"vertical",rowHeight:160,width:2050,onLayoutChange:function(e){if(e.length>0){var t=c()(e,"x"),a=170*parseInt(t.x+t.w)+10;V(a)}},useCSSTransforms:!0,isResizable:!1,onDrop:function(e,t,a){if(e&&e.length>0){var i=e[e.length-1],s={x:i.x,y:i.y,w:i.w,h:i.h,i:i.i,title:A.title};J({type:"ON_ADD_WIDGET",payload:s})}},isDroppable:!0,droppingItem:{i:(0,u.Z)(),w:A?A.w:1,h:A?A.h:1},children:o()(F.dataLayout,(function(e){return P(e)}))})})})})}),(0,j.jsx)(g.Z,{title:(0,j.jsx)("span",{className:"section-title-s2ix section-title-edit",children:"Configuration"}),visible:d,onCancel:function(){r(!1)},destroyOnClose:!0,className:"modal-resize",width:450,footer:null,children:(0,j.jsx)("form",{onSubmit:M((function(){J({type:"ON_SAVE_WIDGET_RESIZE",payload:b},r(!1))})),children:(0,j.jsxs)("div",{className:"custom-body",children:[(0,j.jsxs)("div",{className:"wrap-select",children:[(0,j.jsxs)("div",{className:"custom-select",children:[(0,j.jsx)("div",{style:{marginBottom:"5px"},className:"main-text-s2ix",children:"Width"}),(0,j.jsx)(x.Z,{defaultValue:b?b.w:1,style:{width:"100%"},onChange:function(e){var t=(0,s.Z)((0,s.Z)({},b),{},{w:e});Z(t)},children:[1,2,3,4,5,6,7,8,9,10].map((function(e){return(0,j.jsx)(B,{value:e,children:e},e)}))})]}),(0,j.jsxs)("div",{className:"custom-select",children:[(0,j.jsx)("div",{style:{marginBottom:"5px"},className:"main-text-s2ix",children:"Height"}),(0,j.jsx)(x.Z,{defaultValue:b?b.h:1,style:{width:"100%"},onChange:function(e){var t=(0,s.Z)((0,s.Z)({},b),{},{h:e});Z(t)},children:[1,2,3,4,5,6,7,8,9,10].map((function(e){return(0,j.jsx)(B,{value:e,children:e},e)}))})]})]}),(0,j.jsx)("div",{className:"left-auto button-save-widget",children:(0,j.jsx)("input",{type:"submit",value:"Save"})})]})})}),(0,j.jsxs)("div",{className:"dashboards-widget-inline-catalog flex-column flex-noshrink scroll-hidden",children:[(0,j.jsx)("div",{className:"section-title-s2ix header-add-widget",children:"Add Widget"}),(0,j.jsx)("div",{className:"list-widget",children:K.map((function(e){return(0,j.jsxs)("div",{id:e.id,draggable:!0,unselectable:"on",onDragStart:function(e){var t=K.filter((function(t){return t.id===e.target.id}))[0];O(t),e.dataTransfer.setData("text/plain","")},className:w()({active:e.i===D},"widget-catalog-entry droppable-element"),onClick:function(){I(e),S(e.i)},children:[(0,j.jsx)("div",{className:"widget-catalog-image",children:(0,j.jsx)("img",{alt:"",src:e.img})}),(0,j.jsxs)("div",{className:"widget-details",children:[(0,j.jsx)("div",{className:"widget-details-title section-title-s2ix",children:e.title}),(0,j.jsx)("div",{className:"widget-description main-text-s2ix",children:e.description})]})]},e.id)}))}),(0,j.jsx)("div",{className:"footer-add-widget",children:(0,j.jsx)("button",{className:"button button--secondary left-auto btn-add-widget",onClick:function(){T&&J({type:"ON_ADD_WIDGET",payload:T})},children:"Add"},"right")})]})]})})})})}}}]);
//# sourceMappingURL=794.5175dac9.chunk.js.map