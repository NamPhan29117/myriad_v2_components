"use strict";(self.webpackChunkmyriad_v2=self.webpackChunkmyriad_v2||[]).push([[794],{9388:function(e,t,a){a.r(t),a.d(t,{default:function(){return w}});var i=a(3433),s=a(1413),l=a(9439),n=a(2791),d=(a(2515),a(9498),a(3457)),o=a.n(d),c=a(8815),r=a(2506),u=a(4483),h=a(3174),m=a(4542),x=a(1694),g=a.n(x),v=a(184),p=[{i:""+Date.now(),x:0,y:0,w:2,h:2,title:"Example widget 1"}];function w(){var e={dataLayout:p},t=(0,n.useState)(!1),a=(0,l.Z)(t,2),d=a[0],x=a[1],w=(0,n.useState)(null),f=(0,l.Z)(w,2),y=f[0],j=f[1],N=(0,n.useState)(void 0),b=(0,l.Z)(N,2),Z=b[0],D=b[1],E=(0,n.useState)(null),_=(0,l.Z)(E,2),L=_[0],C=_[1],S=(0,n.useState)(void 0),T=(0,l.Z)(S,2),k=T[0],I=T[1],W=c.Z.Option,A=(0,m.cI)().handleSubmit;var O=(0,n.useReducer)((function(e,t){switch(t.type){case"ON_DELETE_WIDGET":var a=(0,i.Z)(e.dataLayout).filter((function(e){return e.i!==t.payload}));return(0,s.Z)((0,s.Z)({},e),{},{dataLayout:a});case"ON_SAVE_WIDGET_RESIZE":var l=(0,i.Z)(e.dataLayout).map((function(e){return e.i===t.payload.i&&(e=t.payload),e}));return(0,s.Z)((0,s.Z)({},e),{},{dataLayout:l});case"ON_ADD_WIDGET":var n=(0,i.Z)(e.dataLayout),d=[].concat((0,i.Z)(n),[t.payload]);return(0,s.Z)((0,s.Z)({},e),{},{dataLayout:d});default:throw new Error("Load data error")}}),e),G=(0,l.Z)(O,2),z=G[0],R=G[1],V=n.useMemo((function(){return[{id:"id-1",title:"Assigned to Me",img:"https://dev.azure.com/namphan0323/_static/Widgets/CatalogIcons/assignedToMe.png",description:"Allows team members to quickly view and manage work Allows team members to quickly view and manage work",i:"1"+Date.now(),x:2*z.dataLayout.length%12,y:0,w:2,h:2},{id:"id-2",title:"Build history",img:"https://dev.azure.com/namphan0323/_static/Widgets/CatalogIcons/buildChart.png",description:"Shows the build history of a selected build pipeline.",i:"2"+Date.now(),x:2*z.dataLayout.length%12,y:0,w:3,h:3}]}),[z.dataLayout.length]);return(0,v.jsx)("div",{className:"v-scroll-auto flex flex-grow relative region-content","data-renderedregion":"content",role:"main",children:(0,v.jsx)("div",{className:"dashboard-view",children:(0,v.jsx)("div",{className:"absolute-fill bolt-page v-scroll-auto flex-column bolt-page-white",children:(0,v.jsxs)("div",{className:"dashboard-content flex-grow flex-row scroll-hidden",children:[(0,v.jsx)("div",{className:"primary-content flex-grow flex-column scroll-hidden",children:(0,v.jsx)("div",{className:"flex-grow flex-column scroll-hidden",children:(0,v.jsx)("div",{className:"scroll-auto flex-grow flex-column",children:(0,v.jsx)("div",{className:"devops-dashboard-grid flex-grow editable",children:(0,v.jsx)(o(),{className:"layout",layout:z.dataLayout,cols:12,compactType:null,rowHeight:160,width:2030,isResizable:!1,onDrop:function(e,t,a){var i=t.x,s=t.y,l=t.w,n=t.h,d=t.i;R({type:"ON_ADD_WIDGET",payload:{x:i,y:s,w:l,h:n,i:d}})},isDroppable:!0,droppingItem:{i:""+Date.now(),w:k?k.w:1,h:k?k.h:1},children:z.dataLayout.map((function(e){return(0,v.jsx)("div",{className:"widget-layout",children:(0,v.jsxs)("div",{className:"wrap-widget",children:[(0,v.jsxs)("div",{className:"widget-header",children:[(0,v.jsx)("div",{className:"left",children:e.title?e.title:"Test Widget"}),(0,v.jsxs)("div",{className:"right",children:[(0,v.jsx)("div",{onClick:function(){!function(e){j(e),setTimeout((function(){x(!0)}),0)}(e)},children:(0,v.jsx)(u.G,{icon:h.gr5,size:"1x",color:"#666666"})}),(0,v.jsx)("div",{onClick:function(){return t=e.i,void R({type:"ON_DELETE_WIDGET",payload:t});var t},children:(0,v.jsx)(u.G,{icon:h.EOp,size:"1x",color:"rgba(232,17,35,1)"})})]})]}),(0,v.jsx)("div",{className:"widget-body"})]})},e.i)}))})})})})}),(0,v.jsx)(r.Z,{title:(0,v.jsx)("span",{className:"section-title-s2ix section-title-edit",children:"Configuration"}),visible:d,onCancel:function(){x(!1)},destroyOnClose:!0,className:"modal-resize",width:450,footer:null,children:(0,v.jsx)("form",{onSubmit:A((function(){R({type:"ON_SAVE_WIDGET_RESIZE",payload:y},x(!1))})),children:(0,v.jsxs)("div",{className:"custom-body",children:[(0,v.jsxs)("div",{className:"wrap-select",children:[(0,v.jsxs)("div",{className:"custom-select",children:[(0,v.jsx)("div",{style:{marginBottom:"5px"},className:"main-text-s2ix",children:"Width"}),(0,v.jsx)(c.Z,{defaultValue:y?y.w:1,style:{width:"100%"},onChange:function(e){var t=(0,s.Z)((0,s.Z)({},y),{},{w:e});j(t)},children:[1,2,3,4,5,6,7,8,9,10].map((function(e){return(0,v.jsx)(W,{value:e,children:e},e)}))})]}),(0,v.jsxs)("div",{className:"custom-select",children:[(0,v.jsx)("div",{style:{marginBottom:"5px"},className:"main-text-s2ix",children:"Height"}),(0,v.jsx)(c.Z,{defaultValue:y?y.h:1,style:{width:"100%"},onChange:function(e){var t=(0,s.Z)((0,s.Z)({},y),{},{h:e});j(t)},children:[1,2,3,4,5,6,7,8,9,10].map((function(e){return(0,v.jsx)(W,{value:e,children:e},e)}))})]})]}),(0,v.jsx)("div",{className:"left-auto button-save-widget",children:(0,v.jsx)("input",{type:"submit",value:"Save"})})]})})}),(0,v.jsxs)("div",{className:"dashboards-widget-inline-catalog flex-column flex-noshrink scroll-hidden",children:[(0,v.jsx)("div",{className:"section-title-s2ix header-add-widget",children:"Add Widget"}),(0,v.jsx)("div",{className:"list-widget",children:V.map((function(e){return(0,v.jsxs)("div",{id:e.id,draggable:!0,unselectable:"on",onDragStart:function(e){var t=V.filter((function(t){return t.id===e.target.id}))[0];I(t),e.dataTransfer.setData("text/plain","")},className:g()({active:e.i===Z},"widget-catalog-entry droppable-element"),onClick:function(){C(e),D(e.i)},children:[(0,v.jsx)("div",{className:"widget-catalog-image",children:(0,v.jsx)("img",{alt:"",src:e.img})}),(0,v.jsxs)("div",{className:"widget-details",children:[(0,v.jsx)("div",{className:"widget-details-title section-title-s2ix",children:e.title}),(0,v.jsx)("div",{className:"widget-description main-text-s2ix",children:e.description})]})]},e.id)}))}),(0,v.jsx)("div",{className:"footer-add-widget",children:(0,v.jsx)("button",{className:"button button--secondary left-auto btn-add-widget",onClick:function(){L&&R({type:"ON_ADD_WIDGET",payload:L})},children:"Add"},"right")})]})]})})})})}}}]);
//# sourceMappingURL=794.9db1191f.chunk.js.map